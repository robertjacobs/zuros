<launch>
	
	<arg name="robot_env" default="$(optenv ROBOT_ENV !!NO_ROBOT_ENV_SET!!)"/>
	<arg name="pkg_robot_config" default="$(find zuros_year1)"/>
	
	<!-- Run the map server with the map -->										
	<node name="map_server" pkg="map_server" type="map_server" args="$(arg pkg_robot_config)/$(arg robot_env)/map.yaml"/>

	<!--- Run AMCL -->
	<include file="$(find zuros_navigation)/launch/amcl.launch" />

	<!-- Launch move_base and load all navigation parameters -->
	<include file="$(find zuros_navigation)/launch/move_base_delft.launch" />

	<!-- Run a static transform between /odom and /map -->
	<!-- Format: x y z yaw pitch roll frame_id child_frame_id period_in_ms -->
	<!-- <node pkg="tf" type="static_transform_publisher" name="map_to_odom" args="0.0 0.0 0.15 0 0 0.0 /map /odom 100"/> -->

	<!-- Run a static transform between /odom and /base_link -->
	<!-- odom is mounted 19 cm from the center of the base on the x-axis -->
	<!-- Format: x y z yaw pitch roll frame_id child_frame_id period_in_ms -->
	<!-- <node pkg="tf" type="static_transform_publisher" name="odom_to_base_link" args="0.19 0.0 0.0 0 0 0.0 /odom /base_link 100"/> -->

	<!-- Run a static transform between /base_link and /laser_scan -->
	<!-- xtion is mounted 27,45 cm from the center of the base on the x-axis, -3.5cm on the y-axis and -7.75cm (below frame) on the z-axis -->
	<!-- Format: x y z yaw pitch roll frame_id child_frame_id period_in_ms -->
	<node pkg="tf" type="static_transform_publisher" name="base_link_to_laser_scan" args="0.2745 -0.035 -0.0775 0 0 135.1 /base_link /camera_link 100"/>
</launch>
